@page "/budget/goals"

@using UpBlazor.Web.Shared.Pages.Budget.Goals

<UserIdWrapper Context="UserId">
    <UpApiWrapper Context="Accounts" Action="api => api.GetAccountsAsync()" T="PaginatedDataResponse<AccountResource>">
        <CreateGoal Accounts="Accounts" OnNewGoalAsync="async () => await _goalsTable.RepositoryWrapper.ReloadAsync()"/>
    </UpApiWrapper>
    
    <Divider/>

    <GoalsTable @ref="_goalsTable"/>
</UserIdWrapper>

@code
{
    private GoalsTable _goalsTable;
}
